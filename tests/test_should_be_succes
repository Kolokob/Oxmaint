from selenium import webdriver
from selenium.webdriver.chrome.service import Service
from selenium.webdriver.common.by import By
from selenium.webdriver.chrome.options import Options
from webdriver_manager.chrome import ChromeDriverManager
from selenium.webdriver.support import expected_conditions as EC

from tests import BASE_URL

# Настройка опций для Chromium
options = Options()
options.add_argument("--headless")  # Запуск в headless режиме
options.add_argument("--no-sandbox")
options.add_argument("--disable-dev-shm-usage")
options.binary_location = "/usr/bin/chromium"  # Путь к исполняемому файлу Chromium

# Инициализация WebDriver
service = Service(ChromeDriverManager().install())
driver = webdriver.Chrome(service=service, options=options)

try:
    # Открываем страницу логина
    driver.get("url_of_login_page")  # Замените на URL вашей страницы логина

    # Находим поля ввода и кнопку отправки и вводим данные пользователя
    driver.find_element(By.XPATH, "//input[@id='email']").send_keys('demo@oxmaint.com')
    driver.find_element(By.XPATH, "//input[@id='password']").send_keys('123456')
    driver.find_element(By.XPATH, "//button[@id='Login_with_Email']").click()
    # Дополнительно: проверка успешного входа в систему
    # Например, поиск элемента, который появляется только после логина

finally:
    # Закрываем браузер после выполнения теста
    driver.quit()
